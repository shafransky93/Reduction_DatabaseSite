<!DOCTYPE html>
<html>
<meta charset="UTF-8">
<title>Lowell Public Data Portal</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/3/w3.css">
<body>

<!-- Navigation -->
<nav class="w3-bar w3-black">
  <a href="https://lowell.edu" class="w3-button w3-bar-item">
         <img alt="Lowell Main Site" src="css/images/Pluto_in_True_Color_-_High-Res.jpg"
		 width=30" height=30">
  <a href="index.html" class="w3-button w3-bar-item">Home</a>
  <a href="downloads.html" class="w3-button w3-bar-item">Software</a>
  <a href="data.html" class="w3-button w3-bar-item">Data</a>
  <a href="calender.html" class="w3-button w3-bar-item">Calender</a>
  <a href="contact.html" class="w3-button w3-bar-item">Contact</a>
</nav>

<head>
    <title>Lowell Public Data Portal: Calendar</title>
</head>

<body>
    <a href="https://www.cleardarksky.com/c/FlagstaffAZkey.html">
        <img src="https://www.cleardarksky.com/c/FlagstaffAZcsk.gif?c=1209614" class="center">
    </a>

    <div id="showcase-wrapper">
        <input type="date" id="myCalendarWrapper">

		<div hidden>
            <p id="current-date"></p>
            <p id="current-datestring"></p>
		</div>
        <div id="imageDisplay">
            <h3>Todays Image:
                <img src="" id="current-image" class="image">
            </h3>
			<h3>Selected Image:
				<img src="" id="selected-image" class="image">
				<img src="/css/images/404.jpg" id="not-found-image" class="image" style="display:none">
			</h3>
        </div>
    </div>

    <script>
        const currentImageElement = document.getElementById('current-image');
        const currentDate = new Date();
        const year = currentDate.getFullYear();
        const month = (currentDate.getMonth() + 1).toString().padStart(2, '0');
        const day = currentDate.getDate().toString().padStart(2, '0');
        currentImageElement.src = `calender_images/${year}-${month}-${day}.jpg`;

        const selectedImageElement = document.getElementById('selected-image');
        selectedImageElement.style.display = 'none';
		selectedImageElement.addEventListener('error', () => {
			selectedImageElement.style.display = 'none';
			const notFoundImageElement = document.getElementById('not-found-image');
			notFoundImageElement.style.display = 'block';
		});

        const currentDateElement = document.getElementById('current-date');
        currentDateElement.textContent = currentDate.toLocaleDateString();

        const currentToDateString = document.getElementById('current-datestring');
        currentToDateString.textContent = currentDate.toDateString();

        const myCalendar = document.getElementById('myCalendarWrapper');

        myCalendar.addEventListener('change', (event) => {
            selectedImageElement.style.display = 'block';
            const selectedDate = new Date(event.target.value);
			const selectedYear = selectedDate.getFullYear();
			const selectedMonth = (selectedDate.getMonth() + 1).toString().padStart(2, '0');
			const selectedDay = (selectedDate.getDate() + 1).toString().padStart(2, '0');
			selectedImageElement.src = `calender_images/${selectedYear}-${selectedMonth}-${selectedDay}.jpg`;
            const selectedToDateString = document.getElementById('selected-datestring');
            selectedToDateString.textContent = new Date(event.target.value).toDateString();
        });
    </script>

    <style>
        .center {
            display: block;
            margin-left: auto;
            margin-right: auto;
            width: 100%;
        }

        .image {
            width: 100%;
            height: auto;
        }

        #showcase-wrapper {
            margin: 2rem auto 5rem;
            padding: 2em 4em;
            font-size: 1rem;
        }

        #imageDisplay {
            margin: 0 auto;
            text-align: center;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
        }

        #imageDisplay h3:not(:first-of-type) {
            margin-top: 3rem;
        }

        #imageDisplay p {
            font-size: 1rem;
        }
    </style>
</body>

</html>